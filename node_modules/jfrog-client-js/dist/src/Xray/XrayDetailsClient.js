"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.XrayDetailsClient = void 0;
class XrayDetailsClient {
    constructor(httpClient, logger) {
        this.httpClient = httpClient;
        this.logger = logger;
    }
    async build(buildName, buildNumber, projectKey) {
        this.logger.debug('Sending build details request to Xray...');
        let encodedUrl = `api/v1/details/build?build_name=${encodeURIComponent(buildName)}&build_number=${encodeURIComponent(buildNumber)}`;
        if (projectKey) {
            encodedUrl += `&project_key=${encodeURIComponent(projectKey)}`;
        }
        const requestParams = {
            url: encodedUrl,
            method: 'GET',
        };
        this.logger.debug('encoded URL: ' + JSON.stringify(encodedUrl));
        return await this.httpClient.doAuthRequest(requestParams);
    }
}
exports.XrayDetailsClient = XrayDetailsClient;
//# sourceMappingURL=XrayDetailsClient.js.map